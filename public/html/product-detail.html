<div class="container my-5">
    <div class="row">
        <div class="col-md-6">
            <div id="productImageCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
                <!-- Carousel Indicators -->
                <div class="carousel-indicators">
                    <button type="button" ng-repeat="(index, image) in product.images.default"
                        data-bs-target="#productImageCarousel" data-bs-slide-to="{{index}}"
                        ng-class="{ active: $first }" aria-current="{{$first ? 'true' : 'false'}}"
                        aria-label="Slide {{index + 1}}"></button>
                </div>

                <!-- Carousel Images -->
                <div class="carousel-inner">
                    <div class="carousel-item" ng-class="{ active: $first }"
                        ng-repeat="image in product.images.default">
                        <img ng-src="images/produk/{{image}}" class="d-block w-100" alt="{{product.productName}}" style="
                                width: 100%;
                                height: 300px; /* Match the carousel height */
                                object-fit: contain; /* Ensure the image fits */
                                background-color: #f8f9fa; /* Optional padding color */
                            " />
                    </div>
                </div>

                <!-- Carousel Controls -->
                <button class="carousel-control-prev" type="button" data-bs-target="#productImageCarousel"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" style="filter: invert(1);" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#productImageCarousel"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" style="filter: invert(1);" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>

            <!-- Thumbnails -->
            <div class="thumbnail-gallery mt-3">
                <div class="row" ng-repeat="chunk in product.images.default | limitToRows: 7">
                    <div class="col-auto" ng-repeat="image in chunk">
                        <img ng-src="images/produk/{{image}}" class="img-thumbnail" alt="Thumbnail" style="
                            cursor: pointer;
                            width: 80px;
                            height: 80px;
                            object-fit: contain;
                            background-color: #f8f9fa;" ng-click="goToSlide($parent.$index * 7 + $index)" />
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <h1 class="display-6 mb-3">{{product.productName}}</h1>
            <div class="product-meta mb-3">
                <span class="badge bg-secondary me-2">{{product.category}}</span>
            </div>
            <h3 class="text-dark">
                Price Range:
                <span>IDR {{product.lowestPrice | number}} - IDR {{product.highestPrice | number}}</span>
            </h3>
            <div class="purchase-options d-flex">
                <a class="btn btn-dark btn-sm me-2" ng-href="{{product.tokopediaLink}}" target="_blank">Tokopedia</a>
                <a class="btn btn-dark btn-sm me-2" ng-href="{{product.shopeeLink}}" target="_blank">Shopee</a>
                <button class="btn btn-outline-danger btn-sm" ng-click="addToWishlist(product)">
                    <i class="fas fa-heart"></i>
                </button>
            </div>
        </div>
    </div>
</div>